!function(){"use strict";angular.module("photoBlogApp",["ngRoute","jkuri.gallery","ezfb","pascalprecht.translate"])}(),function(){"use strict";function e(e,a,i){o=e,n=a,r=i,ga("create","UA-80122651-1","auto"),o.$on("$routeChangeSuccess",t)}function t(e,t,a){o.headerType=t.$$route.headerType,void 0!==ga&&void 0!==n&&void 0!==n.url&&ga("send","pageview",{page:n.url()}),t.params.postId&&r.getPost(t.params.postId,function(e){o.headerValue=e.category.name}),t.params.categoryId&&r.getCategory(t.params.categoryId,function(e){o.headerValue=e.name})}var o,n,r;angular.module("photoBlogApp").run(e),e.$inject=["$rootScope","$location","dataService"]}(),function(){"use strict";function e(e,t){var o=e.categoryId,n=this;t.getPostsByCategory(o,function(e){n.posts=e})}angular.module("photoBlogApp").controller("categoryController",e),e.$inject=["$routeParams","dataService"]}(),function(){"use strict";function e(e){var t=this;e.getPosts(function(e){t.posts=e})}angular.module("photoBlogApp").controller("homeController",e),e.$inject=["dataService"]}(),function(){"use strict";function e(e,t,o){function n(){var e=new Array;for(var t in a.post.images)e.push({thumb:o.getGalleryThumb(a.post.images[t].url),img:o.getGalleryImage(a.post.images[t].url),description:a.post.images[t].description});return e}var r=e.postId,a=this;t.getPost(r,function(e){a.post=e,a.gallery=n()}),a.getCurrentUrl=o.getCurrentUrl}angular.module("photoBlogApp").controller("postController",e),e.$inject=["$routeParams","dataService","urlService"]}(),function(){"use strict";function e(e){e.setLocale("pt_BR"),e.setInitParams({appId:"1643932782590470",version:"v2.6"})}angular.module("photoBlogApp").config(e),e.$inject=["ezfbProvider"]}(),function(){"use strict";function e(e){e.html5Mode(!0)}angular.module("photoBlogApp").config(e),e.$inject=["$locationProvider"]}(),function(){"use strict";function e(e){e.when("/",{headerType:"flexslider",templateUrl:"app/blog/home.html",controller:"homeController",controllerAs:"home"}).when("/post/:postId",{headerType:"none",templateUrl:"app/blog/post.html",controller:"postController",controllerAs:"post"}).when("/category/:categoryId",{headerType:"pagetitle",templateUrl:"app/blog/category.html",controller:"categoryController",controllerAs:"category"})}angular.module("photoBlogApp").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e){function t(){return{BLOGTITLE:"Portraits",BLOGDESCRIPTION:"Portraits that inspires",ABOUTME:"About Me",ABOUTMEDESCRIPTION:"My name is Tiago Santos and I am a photographer, specially pationated about people's portrait and urban photography.",CATEGORIES:"Categories",FOLLOWME:"Follow Me",RECENTPOSTS:"Recent Posts",SEEPHOTOS:"See Photos",POSTEDON:"Posted on",SHARETHIS:"Share this",SUBSCRIBE:"Subscribe to Blog via Email",SUBSCRIBEMESSAGE:"Enter your email address to subscribe to this blog and receive notifications of new posts by email.",SUBSCRIBEPLACEHOLDER:"Your email address",SUBSCRIBEBUTTON:"Subscribe"}}function o(){return{BLOGTITLE:"Retratos",BLOGDESCRIPTION:"Retratos que inspiram",ABOUTME:"Sobre",ABOUTMEDESCRIPTION:"Meu nome é Tiago Santos e sou fotógrafo, apaixonado por retratos e poesia da fotografia.",CATEGORIES:"Categorias",FOLLOWME:"Siga-me",RECENTPOSTS:"Posts Recentes",SEEPHOTOS:"Ver Fotos",POSTEDON:"Postado em",SHARETHIS:"Compartilhe",SUBSCRIBE:"Receba as novidades por Email",SUBSCRIBEMESSAGE:"Preencha seu email para se inscrever nesse blog e receber notificações de novos posts por email.",SUBSCRIBEPLACEHOLDER:"Seu email",SUBSCRIBEBUTTON:"Inscreva-se já!"}}e.translations("en",t()).translations("pt",o()).uniformLanguageTag("bcp47").registerAvailableLanguageKeys(["en","pt"],{"en*":"en","pt*":"pt"}).determinePreferredLanguage().fallbackLanguage("en")}angular.module("photoBlogApp").config(e),e.$inject=["$translateProvider"]}(),function(){"use strict";function e(){var e={templateUrl:"/app/directives/aboutme.directive.html",restrict:"EA"};return e}angular.module("photoBlogApp").directive("photoblogAboutme",e)}(),function(){"use strict";function e(){var e={templateUrl:"/app/directives/categories.directive.html",restrict:"EA"};return e}angular.module("photoBlogApp").directive("photoblogCategories",e)}(),function(){"use strict";function e(){var e={templateUrl:"/app/directives/followme.directive.html",restrict:"EA"};return e}angular.module("photoBlogApp").directive("photoblogFollowme",e)}(),function(){"use strict";function e(){var e={templateUrl:"/app/directives/footer.directive.html",restrict:"EA"};return e}angular.module("photoBlogApp").directive("photoblogFooter",e)}(),function(){"use strict";function e(){var e={templateUrl:"/app/directives/recentposts.directive.html",restrict:"EA"};return e}angular.module("photoBlogApp").directive("photoblogRecentPosts",e)}(),function(){"use strict";function e(){var e={templateUrl:"/app/directives/slides.directive.html",restrict:"EA"};return e}angular.module("photoBlogApp").directive("photoblogSlides",e)}(),function(){"use strict";function e(){var e={templateUrl:"/app/directives/subscribe.directive.html",restrict:"EA"};return e}angular.module("photoBlogApp").directive("photoblogSubscribe",e)}(),function(){"use strict";function e(e,t,o){var n=this;e.getCategories(function(e){n.categories=e}),n.getCategoryUrl=t.getCategoryUrl,n.getPostUrl=t.getPostUrl,n.getHomeUrl=t.getHomeUrl,n.getCategoryThumb=t.getCategoryThumb,n.getPostImage=t.getPostImage,n.getHomeSlideImage=t.getHomeSlideImage,n.currentSlide=0,e.getPosts(function(e){n.posts=e;o(function(){n.currentSlide=(n.currentSlide+1)%n.posts.length},15e3)})}angular.module("photoBlogApp").controller("pageController",e),e.$inject=["dataService","urlService","$interval"]}(),function(){"use strict";function e(e,t){function o(e,o){t.get("/api/datacategories/"+e).success(function(e){o(e.posts)})}function n(e,o){t.get("/api/datacategories/"+e).success(function(e){o(e)})}function r(e,o){t.get("/api/dataposts/"+e).success(function(e){o(e)})}function a(e){t.get("/api/dataposts").success(function(t){e(t)})}function i(e){t.get("/api/datacategories").success(function(t){e(t)})}return{getPost:r,getPosts:a,getCategories:i,getCategory:n,getPostsByCategory:o}}angular.module("photoBlogApp").service("dataService",e),e.$inject=["$translate","$http"]}(),function(){"use strict";function e(e){function t(e){return"/category/"+e}function o(e){return"/post/"+e}function n(){return"/"}function r(e){return"http://res.cloudinary.com/drzxualok/image/upload/c_lfill,h_80,w_80/"+e}function a(e){return"http://res.cloudinary.com/drzxualok/image/upload/c_limit,h_150/"+e}function i(e){return"http://res.cloudinary.com/drzxualok/image/upload/c_limit,w_2000/"+e}function l(e){return"http://res.cloudinary.com/drzxualok/image/upload/c_limit,h_550,w_1170/"+e}function s(e){return"http://res.cloudinary.com/drzxualok/image/upload/c_thumb,g_face,h_650,w_1920/"+e}function c(){return e.absUrl()}return{getCategoryUrl:t,getPostUrl:o,getHomeUrl:n,getCategoryThumb:r,getGalleryThumb:a,getGalleryImage:i,getPostImage:l,getHomeSlideImage:s,getCurrentUrl:c}}angular.module("photoBlogApp").service("urlService",e),e.$inject=["$location"]}(),function(){"use-strict";function e(e,t,o,n){function r(e,t){e.baseClass=e["class"]||a.baseClass,e.thumbClass=e.thumbClass||a.thumbClass,e.thumbsNum=e.thumbsNum||3}var a={baseClass:"ng-gallery",thumbClass:"ng-thumb",templateUrl:"ng-gallery.html"},i={enter:13,esc:27,left:37,right:39},l=a.templateUrl;return n.put(l,'<div class="{{ baseClass }}">  <div ng-repeat="i in images">    <img ng-src="{{ i.thumb }}" class="{{ thumbClass }}" ng-click="openGallery($index)" alt="Image {{ $index + 1 }}" />  </div></div><div class="ng-overlay" ng-show="opened"></div><div class="ng-gallery-content" unselectable="on" ng-show="opened" ng-swipe-left="nextImage()" ng-swipe-right="prevImage()">  <div class="uil-ring-css" ng-show="loading"><div></div></div><a href="{{getImageDownloadSrc()}}" target="_blank" ng-show="showImageDownloadButton()" class="download-image"><i class="fa fa-download"></i></a>  <a class="close-popup" ng-click="closeGallery()"><i class="fa fa-close"></i></a>  <a class="nav-left" ng-click="prevImage()"><i class="fa fa-angle-left"></i></a>  <img ondragstart="return false;" draggable="false" ng-src="{{ img }}" ng-click="nextImage()" ng-show="!loading" class="effect" />  <a class="nav-right" ng-click="nextImage()"><i class="fa fa-angle-right"></i></a>  <span class="info-text">{{ index + 1 }}/{{ images.length }} - {{ description }}</span>  <div class="ng-thumbnails-wrapper">    <div class="ng-thumbnails slide-left">      <div ng-repeat="i in images">        <img ng-src="{{ i.thumb }}" ng-class="{\'active\': index === $index}" ng-click="changeImage($index)" />      </div>    </div>  </div></div>'),{restrict:"EA",scope:{images:"=",thumbsNum:"@",hideOverflow:"="},controller:["$scope",function(e){e.$on("openGallery",function(t,o){e.openGallery(o.index)})}],templateUrl:function(e,t){return t.templateUrl||a.templateUrl},link:function(n,a,l){r(n,l),n.thumbsNum>=11&&(n.thumbsNum=11);var s=e.find("body"),c=angular.element(a[0].querySelectorAll(".ng-thumbnails-wrapper")),u=angular.element(a[0].querySelectorAll(".ng-thumbnails"));n.index=0,n.opened=!1,n.thumb_wrapper_width=0,n.thumbs_width=0;var g=function(e){var t=o.defer(),r=new Image;return r.onload=function(){n.loading=!1,typeof this.complete!==!1&&0!==this.naturalWidth||t.reject(),t.resolve(r)},r.onerror=function(){t.reject()},r.src=n.images[e].img,n.loading=!0,t.promise},d=function(e){g(n.index).then(function(e){n.img=e.src,m(n.index)}),n.description=n.images[e].description||""};n.showImageDownloadButton=function(){if(null!=n.images[n.index]&&null!=n.images[n.index].downloadSrc){var e=n.images[n.index];return angular.isDefined(e.downloadSrc)&&0<e.downloadSrc.length}},n.getImageDownloadSrc=function(){if(null!=n.images[n.index]&&null!=n.images[n.index].downloadSrc)return n.images[n.index].downloadSrc},n.changeImage=function(e){n.index=e,d(e)},n.nextImage=function(){n.index+=1,n.index===n.images.length&&(n.index=0),d(n.index)},n.prevImage=function(){n.index-=1,n.index<0&&(n.index=n.images.length-1),d(n.index)},n.openGallery=function(e){void 0!==typeof e&&(n.index=e,d(n.index)),n.opened=!0,n.hideOverflow&&$("body").css({overflow:"hidden"}),t(function(){var e=p();n.thumbs_width=e.width;var t=e.width+1;u.css({width:t+"px"}),c.css({width:e.visible_width+"px"}),m(n.index)})},n.closeGallery=function(){n.opened=!1,n.hideOverflow&&$("body").css({overflow:""})},s.bind("keydown",function(e){if(n.opened){var t=e.which;t===i.esc?n.closeGallery():t===i.right||t===i.enter?n.nextImage():t===i.left&&n.prevImage(),n.$apply()}});var p=function(){var e=0,t=0;return angular.forEach(u.find("img"),function(o){e+=o.clientWidth,e+=10,t=o.clientWidth+10}),{width:e,visible_width:t*n.thumbsNum}},m=function(e){t(function(){var t=n.images.length,o=n.thumbs_width,r=parseInt(o/t,10),a=e+1,i=Math.ceil(t/a);c[0].scrollLeft=0,c[0].scrollLeft=a*r-i*r},100)}}}}angular.module("jkuri.gallery",[]).directive("ngGallery",e),e.$inject=["$document","$timeout","$q","$templateCache"]}();